<!DOCTYPE html>
<html lang="zh">
	<head>
		<title>FCS - 建物能耗計算工具</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="icon" href="/static/img/fcs_logo.png" type="image/png" sizes="16x16">
		<link href="/static/css/style.css" rel="stylesheet" type="text/css">
		<link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js" type="text/javascript"></script>
		<script src="/static/js/const.js"></script>
		<script src="/static/js/dynamic_input.js"></script>
		<script src="/static/js/dynamic_table_ec.js"></script>
		<script src="/static/js/dynamic_table_es.js"></script>
		<script src="/static/js/dynamic_table_facility.js"></script>
		<script src="/static/js/form_validation.js"></script>
		<script src="/static/js/nav_bar.js"></script>
	</head>
	<body>

		<!-- Navigation Bar -->
		<div class="floating-menu">
			<img src="/static/img/estimation_1.png" style="width: 60px;", alt="building-estimation-information" onclick="scrollToAnchor('section-building-estimation-information')">
			<img src="/static/img/building_1.png" style="width: 60px;", alt="building-basic-information" onclick="scrollToAnchor('section-building-basic-information')">
			<img src="/static/img/ec_1.png" style="width: 60px;", alt="building-ec" onclick="scrollToAnchor('section-building-ec')">
			<img src="/static/img/es_1.png" style="width: 60px;", alt="building-es" onclick="scrollToAnchor('section-building-es')">
			<img src="/static/img/elevator_1.png" style="width: 60px;", alt="elevator" onclick="scrollToAnchor('section-elevator')">
			<img src="/static/img/escalator_1.png" style="width: 60px;", alt="escalator" onclick="scrollToAnchor('section-escalator')">
		</div>

		<!-- Banner -->
		<div class="banner">
			<a href="#" class="banner-title"><b>FCS</b> 建物能耗計算工具</a>
			<div class="banner-right">
				<a class="banner-item" href="/app/">評估</a>
				<a class="banner-item" href="/app/result/">輸出</a>
				<a class="banner-item" href="/app/faq/">常見問題</a>
				<div class="banner-logo">
					<img src="/static/img/fcs_logo.png" style="width: 60px;", alt="FCS">
				</div>
			</div>
		</div>

		<!-- Page content -->
		<div class="page-main">

			<!-- Form Section -->
			<div class="form">
				
				<h3>R-BERS 評估資訊輸入</h3>
				<div class="content-1">請依據建物及其附屬設備資訊，並依照 2023 年版 EEWH-RS 建築能效評估系統住宿類附錄一相關規範填寫。</div>
				
				<form id="main-form" method="POST" autocomplete="off" onsubmit="return formValidation()">

					<!-- 建物評估資訊 -->
					<!-- 建物類別（以隱藏控制項傳遞參數） -->
					<!-- 評估系統（以隱藏控制項傳遞參數） -->

					<h4 id="section-building-estimation-information">建物評估資訊</h4>

					<div class="form-line">
						<label class="form-label-1">建物名稱</label>
						<input class="form-input-1" type="text" placeholder="建物名稱" required name="building_name">
					</div>
					
					<input type="hidden" name="estimation_system" value="R-BERS">
					<input type="hidden" name="building_class" value="residential">

					<div class="form-line">
						<label class="form-label-1">建物類型</label>
						<select class="form-input-1" name="building_type" aria-label="building_type" onchange="buildingTypeChange();">
							<option value="house">透天住宅（獨棟透天、連棟透天）</option>
							<option value="apartment">非透天住宅（公寓、大樓）</option>
						</select>
					</div>

					<!-- 建物基本資訊 -->
					
					<h4 id="section-building-basic-information">建物基本資訊</h4>

					<div class="form-line">
						<label class="form-label-1">建物位置</label>
						<input class="form-input-2" type="text" placeholder="縣市" required name="building_address_county">
						<input class="form-input-2" type="text" placeholder="鄉鎮市區" required name="building_address_town">
					</div>

					<div class="form-line">
						<label class="form-label-1">經緯度（可選）</label>
						<input class="form-input-2" type="text" placeholder="經度" name="building_coordinate_longitude">
						<input class="form-input-2" type="text" placeholder="緯度" name="building_coordinate_latitude">
					</div>

					<div class="form-line">
						<label class="form-label-1">建物樓層數</label>
						<input class="form-input-2" type="text" placeholder="建物地上樓層數" required name="building_n_stories_above_ground">
						<input class="form-input-2" type="text" placeholder="建物地下樓層數" required name="building_n_stories_below_ground">
					</div>

					<div class="form-line">
						<label class="form-label-1">建物樓層修正量</label>
						<input class="form-input-1" type="text" placeholder="建物樓層修正量" value="0" required name="building_floor_offset">
					</div>

					<div class="form-line">
						<label class="form-label-1">住戶數</label>
						<input class="form-input-2" type="text" placeholder="套房住戶數" name="n_suite" disabled>
						<input class="form-input-2" type="text" placeholder="二房以上住戶數" name="n_household_big" disabled>
					</div>

					<!-- 建物設計模擬資訊 -->

					<div class="form-line">
						<label class="form-label-1">住宅單元部分冷氣系統節能效率</label>
						<input class="form-input-1" type="text" placeholder="住宅單元部分冷氣系統節能效率" value="0.9" required name="coef_eff_ac_residential">
					</div>

					<div class="form-line">
						<label class="form-label-1">共用空間空調系統節能效率</label>
						<input class="form-input-1" type="text" placeholder="共用空間空調系統節能效率" value="0.9" required name="coef_eff_ac_nonresidential">
					</div>

					<div class="form-line">
						<label class="form-label-1">外殼節能效率</label>
						<input class="form-input-1" type="text" placeholder="外殼節能效率" value="0.9" required name="coef_eff_envelope">
					</div>

					<div class="form-line">
						<label class="form-label-1">住宅單元部分室內照明系統節能效率</label>
						<input class="form-input-1" type="text" placeholder="住宅單元部分室內照明系統節能效率" value="0.9" required name="coef_eff_lighting_residential">
					</div>

					<div class="form-line">
						<label class="form-label-1">共用空間室內照明系統節能效率</label>
						<input class="form-input-1" type="text" placeholder="共用空間室內照明系統節能效率" value="0.9" required name="coef_eff_lighting_nonresidential">
					</div>

					<!-- 水塔設備 -->
					
					<h4 id="section-watertower">水塔設備</h4>
					<div class="form-line">
						<button type="button" class="form-button-dynamic-add" onclick="addWaterTower('R-BERS')">新增水塔設備</button>
						<button type="button" class="form-button-dynamic-clear" onclick="clearWaterTowers()">清除所有水塔設備</button>
					</div>

					<div id="watertowers" style="flex-direction: column; display: flex;" onkeydown="return event.key != 'Enter';"></div>

					<!-- 耗能分區 -->
					
					<h4 id="section-building-es">耗能分區</h4>
					<div class="form-line">
						<button type="button" class="form-button-dynamic-add" onclick="addEnergySection('R-BERS')">新增耗能分區</button>
						<button type="button" class="form-button-dynamic-clear" onclick="clearEnergySections(); esAreaChange();">清除所有耗能分區</button>
						<div id="form-total-area" style="margin-left: 50px; display: flex; align-items: center;"></div>
					</div>
					
					<div id="energy-sections" style="flex-direction: column; display: flex;" onkeydown="return event.key != 'Enter';"></div>
					
					<!-- 非住宅分區 -->
					
					<h4 id="section-building-es-nonresidential">非住宅分區</h4>
					<div class="form-line">
						<button type="button" class="form-button-dynamic-add" onclick="addEnergySectionNonResidential('R-BERS')">新增非住宅分區</button>
						<button type="button" class="form-button-dynamic-clear" onclick="clearEnergySectionsNonResidential();">清除所有非住宅分區</button>
						<div id="form-total-area" style="margin-left: 50px; display: flex; align-items: center;"></div>
					</div>
					
					<div id="energy-sections-nonresidential" style="flex-direction: column; display: flex;" onkeydown="return event.key != 'Enter';"></div>
					
					<!-- 電梯 -->

					<h4 id="section-elevator">電梯</h4>
					<div class="form-line">
						<button type="button" class="form-button-dynamic-add" onclick="addElevator()">新增電梯</button>
						<button type="button" class="form-button-dynamic-clear" onclick="clearElevators()">清除所有電梯</button>
					</div>

					<div id="elevators" style="flex-direction: column; display: flex;" onkeydown="return event.key != 'Enter';"></div>

					<!-- 加熱設備 -->

					<h4 id="section-heater">加熱設備</h4>
					<div class="form-line">
						<button type="button" class="form-button-dynamic-add" onclick="addHeater()">新增加熱設備</button>
						<button type="button" class="form-button-dynamic-clear" onclick="clearHeaters()">清除所有加熱設備</button>
					</div>

					<div id="heaters" style="flex-direction: column; display: flex;" onkeydown="return event.key != 'Enter';"></div>

					<!-- 地下停車場 -->

					<h4 id="section-parkinggarage">地下停車場</h4>
					<div class="form-line">
						<button type="button" class="form-button-dynamic-add" onclick="addParkingGarage()">新增地下停車場</button>
						<button type="button" class="form-button-dynamic-clear" onclick="clearParkingGarages()">清除所有地下停車場</button>
					</div>

					<div id="parkinggarages" style="flex-direction: column; display: flex;" onkeydown="return event.key != 'Enter';"></div>

					<button class="form-button-submit" type="submit">開始評估</button>
				</form>
			</div>
		</div>
	</body>
</html>